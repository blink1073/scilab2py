# travis-ci.org definition for scilab2py build

# After changing this file, check it on:
#   http://lint.travis-ci.org/

# http://conda.pydata.org/docs/travis.html
language: python

python:
    - 2.7

before_install:
  - sudo apt-get update -qq;
  - sudo apt-get install -qq python-scipy python-pip
  - travis_retry pip install IPython nose pip coverage coveralls

install:
  - export PYTHONWARNINGS=all
  - python setup.py install
  - cd

script:
  # sanity checks
  - scilab -version
  - python -c "import scilab2py;print(scilab2py.__version__)"
  - python -c "from scilab2py import scilab;print(scilab.ones(3,3))"
    # run coverage on py2.7, regular on others
  - export NOSE_ARGS="-v --exe --processes=-1 --process-timeout=120 --process-restartworker"
  - nosetests $NOSE_ARGS scilab2py;

after_success:
    - coveralls
